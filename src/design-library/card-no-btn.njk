{% extends "design-library-base.njk" %}
{% set activePage = 'card-no-btn' %}

{% block componentContent %}
<div class="max-w-4xl mx-auto px-6 py-8">
    
    <!-- Page Title -->
    <h1 class="text-4xl font-bold text-gray-900 mb-8">Card - No Button</h1>

    <!-- Primary Example Block -->
    <div class="border border-gray-300 rounded-lg mb-8 overflow-hidden">
        <!-- Live Example -->
        <div class="p-20 bg-gray-100 flex justify-center items-center">
            
            <div class="relative w-full max-w-2xl py-10">
                <!-- 1. The Card Base -->
                <div class="sw-bg-green w-[500px] min-h-[420px] p-12 flex flex-col justify-center relative z-0 shadow-lg">
                    <div class="max-w-[280px]">
                        <h2 class="text-5xl font-extrabold text-white mb-8 leading-tight tracking-tight uppercase" style="font-family: 'Objektiv MK1', sans-serif;">
                            Grants & <br/>funding
                        </h2>
                        <p class="text-white text-lg font-medium leading-relaxed" style="font-family: 'Montserrat', sans-serif;">
                            We distribute funding to community clubs, volunteers, and athletes. Our grants team can support you with information.
                        </p>
                    </div>
                </div>

                <!-- 2. The Slanted Image Overlay -->
                <div class="absolute top-0 -right-4 w-auto h-full z-10 sw-image-overlay-slant shadow-2xl">
                    <div class="relative w-full h-full">
                        <img src="../img/card-layout-no-button-graphic.svg" alt="Rugby Players" class="object-cover w-full h-full">
                    </div>
                </div>
            </div>

        </div>
        
        <!-- React Code Tabs -->
        <div class="border-t border-gray-200">
            <div id="component1-code-tabs"></div>
        </div>
    </div>

    <!-- Usage Sections -->
    <section class="mb-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">When to use this component</h2>
        <p class="text-gray-700 leading-relaxed">
            Use this variant for featured content blocks that are informative but do not require an immediate user action via a button. It is ideal for showcasing success stories, news highlights, or about us sections.
        </p>
    </section>

    <section class="mb-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Design Rules</h2>
        <ul class="list-disc ml-6 space-y-2 text-gray-700 leading-relaxed mb-6">
            <li><strong>Sharp Corners:</strong> Maintain zero border-radius on all card elements.</li>
            <li><strong>Z-Index:</strong> The image must sit on top of the card at <code>z-index: 10</code>.</li>
            <li><strong>Slant Consistency:</strong> Always use the brand-approved 25% to 75% polygon slant.</li>
        </ul>
    </section>

</div>

<style>
    .sw-image-overlay-slant {
        clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
    }
</style>

<script type="text/babel">
{% raw %}
const { useState } = React;

function CodeTabsComponent({ codeExamples, tabId }) {
    const [codeType, setCodeType] = useState('html');
    const getLanguageClass = (type) => {
        const languageMap = { html: 'language-html', css: 'language-css', react: 'language-jsx', tailwind: 'language-html' };
        return languageMap[type] || 'language-html';
    };

    React.useEffect(() => {
        if (window.hljs) {
            setTimeout(() => {
                const codeBlock = document.querySelector(`#${tabId}-code-block`);
                if (codeBlock) {
                    codeBlock.removeAttribute('data-highlighted');
                    codeBlock.className = getLanguageClass(codeType);
                    window.hljs.highlightElement(codeBlock);
                }
            }, 50);
        }
    }, [codeType, tabId]);

    return (
        <div>
            <div className="flex" role="tablist">
                {Object.keys(codeExamples).map((type) => (
                    <button key={type} onClick={() => setCodeType(type)} className={`px-4 py-3 text-sm font-semibold border-b-3 transition-all ${codeType === type ? 'border-blue-600 bg-white text-blue-600' : 'border-transparent bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>
                        {type.toUpperCase()}
                    </button>
                ))}
            </div>
            <div className="bg-white relative">
                <button onClick={() => { navigator.clipboard.writeText(codeExamples[codeType]); const button = event.target; button.textContent = 'Copied!'; setTimeout(() => { button.textContent = 'Copy code'; }, 2000); }} className="absolute top-2 right-2 px-3 py-1 text-xs bg-gray-700 text-gray-200 rounded">Copy code</button>
                <pre className="p-4 bg-gray-900 text-gray-100 text-sm overflow-x-auto"><code id={`${tabId}-code-block`}>{codeExamples[codeType]}</code></pre>
            </div>
        </div>
    );
}

const componentData = {
    codeExamples: {
        component1: {
            html: `<div class="relative w-full max-w-2xl py-10">
    <div class="sw-bg-green w-[500px] min-h-[420px] p-12 relative z-0">
        <h2 class="text-5xl font-extrabold text-white mb-8 uppercase">Grants & funding</h2>
        <p class="text-white text-lg font-medium">Content goes here...</p>
    </div>
    <div class="absolute top-0 -right-4 w-auto h-full z-10 sw-image-overlay-slant">
        <img src="..." class="object-cover w-full h-full">
    </div>
</div>`,
            css: `.sw-bg-green { background-color: #299D91; }
.sw-image-overlay-slant {
    clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
}`,
            react: `const FeaturedCard = () => (
    <div className="relative w-full max-w-2xl">
        <div className="bg-[#299D91] w-[500px] min-h-[420px] p-12 z-0">
            <h2 className="text-5xl font-black text-white uppercase">Grants & Funding</h2>
        </div>
        <div className="absolute top-0 -right-4 w-auto h-full z-10 [clip-path:polygon(25%_0%,100%_0%,75%_100%,0%_100%)]">
            <img src="/path/to/img.jpg" className="object-cover h-full" />
        </div>
    </div>
);`,
            tailwind: `<div class="relative w-full max-w-2xl">
    <div class="bg-[#299D91] w-[500px] min-h-[420px] p-12 z-0 rounded-none">
        <h2 class="text-5xl font-black text-white uppercase leading-tight">GRANTS & FUNDING</h2>
    </div>
    <div class="absolute top-0 -right-4 w-auto h-full z-10 [clip-path:polygon(25%_0%,100%_0%,75%_100%,0%_100%)]">
        <img src="..." class="object-cover h-full" />
    </div>
</div>`
        }
    }
};

ReactDOM.render(<CodeTabsComponent codeExamples={componentData.codeExamples.component1} tabId="component1" />, document.getElementById('component1-code-tabs'));
{% endraw %}
</script>
{% endblock %}