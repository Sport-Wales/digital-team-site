{% extends "design-library-base.njk" %}
{% set activePage = 'card-with-btn' %}

{% block componentContent %}
<div class="max-w-4xl mx-auto px-6 py-8">
    
    <!-- Page Title -->
    <h1 class="text-4xl font-bold text-gray-900 mb-8">Card - With Button</h1>

    <!-- Description -->
    <p class="text-gray-700 leading-relaxed mb-8">
        This featured card uses a layered approach where a slanted image overlays a solid color card. 
        <strong>Note:</strong> This design uses sharp corners (no border-radius) and the image element is positioned on top of the card base.
    </p>

    <!-- Primary Example Block -->
    <div class="border border-gray-300 rounded-lg mb-8 overflow-hidden">
        <!-- Live Example -->
        <div class="p-20 bg-gray-100 flex justify-center items-center">
            
            <!-- Component Container (Relative to allow absolute image overlay) -->
            <div class="relative w-full max-w-2xl py-10">
                
                <!-- 1. The Card Base (The Teal Box) -->
                <div class="sw-bg-green w-[500px] min-h-[420px] p-12 flex flex-col justify-center relative z-0">
                    <div class="max-w-[280px]">
                        <h2 class="text-5xl font-extrabold text-white mb-8 leading-tight tracking-tight" style="font-family: 'Objektiv MK1', sans-serif;">
                            Grants & <br/>funding
                        </h2>
                        <p class="text-white text-lg font-medium leading-relaxed mb-8" style="font-family: 'Montserrat', sans-serif;">
                            We distribute funding to community clubs, volunteers, and athletes. Our grants team can support you with information.
                        </p>
                        
                        <!-- Button CTA -->
                        <button class="sw-button sw-button-start rounded-none h-12 px-8 uppercase tracking-widest text-sm font-bold border-none">
                            Find out more
                        </button>
                    </div>
                </div>

                <!-- 2. The Slanted Image Overlay (Sits ON TOP of the card) -->
                <div class="absolute top-0 -right-4 w-[380px] h-full z-10 sw-image-overlay-slant shadow-2xl">
                    <div class="relative w-full h-full">
                        <!-- Image -->
                        <img src="../img/card-layout-no-button-graphic.svg" alt="Rugby Players" class="object-cover w-full h-full">
                        <!-- Red Brand Overlay (Multiply) -->
                        <div class="absolute inset-0 bg-[#E32434] opacity-60 mix-blend-multiply"></div>
                    </div>
                </div>

            </div>

        </div>
        
        <!-- React Code Tabs -->
        <div class="border-t border-gray-200">
            <div id="component1-code-tabs"></div>
        </div>
    </div>

</div>

<style>
    /* 
       Specific Slant for the overlay image.
       Points: Top-Left(35%), Top-Right(100%), Bottom-Right(75%), Bottom-Left(10%) 
    */
    .sw-image-overlay-slant {
        clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
    }
</style>

<!-- React Script -->
<script type="text/babel">
{% raw %}
function CodeTabsComponent({ codeExamples, tabId }) {
    const [activeTab, setActiveTab] = React.useState('html');
    const [copied, setCopied] = React.useState(false);

    const handleCopy = () => {
        navigator.clipboard.writeText(codeExamples[activeTab]);
        setCopied(true);
        setTimeout(() => setCopied(false), 2000);
    };

    return (
        <div className="flex flex-col h-full font-mono text-sm leading-normal">
            {/* Tab Header */}
            <div className="flex border-b border-gray-200 bg-gray-50">
                {['html', 'css', 'react', 'tailwind'].map((tab) => (
                    <button
                        key={tab}
                        onClick={() => setActiveTab(tab)}
                        className={`px-4 py-2 font-medium text-gray-700 focus:outline-none ${
                            activeTab === tab 
                                ? 'bg-white border-t-2 border-l border-r border-gray-200 border-t-blue-600 -mb-px rounded-t' 
                                : 'hover:bg-gray-100'
                        }`}
                    >
                        {tab.toUpperCase()}
                    </button>
                ))}
                <div className="flex-grow"></div>
                <button 
                    onClick={handleCopy}
                    className="flex items-center space-x-2 px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors"
                >
                    <span className="text-xs font-semibold uppercase">{copied ? 'Copied!' : 'Copy Code'}</span>
                </button>
            </div>

            {/* Code Content */}
            <div className="flex-1 bg-gray-50 p-4 overflow-auto">
                <pre className="m-0 whitespace-pre-wrap text-gray-800 font-mono text-xs">
                    <code>{codeExamples[activeTab]}</code>
                </pre>
            </div>
        </div>
    );
}

const componentData = {
    codeExamples: {
        component1: {
            html: `<!-- Featured Layered Card -->
<div class="relative w-full max-w-2xl py-10">
    <!-- Teal Background Card -->
    <div class="sw-bg-green w-[500px] min-h-[420px] p-12 relative z-0">
        <h2 class="sw-heading-xl text-white">Grants & funding</h2>
        <p class="text-white">...</p>
        <button class="sw-button-start rounded-none">Find out more</button>
    </div>

    <!-- Slanted Image Overlay (Z-index 10) -->
    <div class="absolute top-0 -right-4 w-[380px] h-full z-10 sw-image-overlay-slant">
        <img src="..." class="object-cover h-full">
        <div class="sw-red-multiply-overlay"></div>
    </div>
</div>`,
            css: `.sw-bg-green { background-color: #299D91; }
.sw-image-overlay-slant {
    clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
}
.sw-red-multiply-overlay {
    position: absolute;
    inset: 0;
    background-color: #E32434;
    mix-blend-mode: multiply;
    opacity: 0.6;
}`,
            react: `const FeaturedCard = () => (
    <div className="relative w-full max-w-2xl">
        {/* Base Layer */}
        <div className="bg-[#299D91] w-[500px] p-12 z-0">
            <h2 className="text-5xl font-extrabold text-white uppercase">Grants & Funding</h2>
            <button className="bg-[#E32434] text-white px-8 py-3 rounded-none">Action</button>
        </div>
        {/* Top Layer */}
        <div className="absolute top-0 -right-4 w-[380px] h-full z-10 [clip-path:polygon(25%_0%,100%_0%,75%_100%,0%_100%)]">
            <img src="/rugby.jpg" className="object-cover h-full" />
            <div className="absolute inset-0 bg-[#E32434] mix-blend-multiply opacity-60" />
        </div>
    </div>
);`,
            tailwind: `<!-- Layered Overlay Card -->
<div class="relative w-full max-w-2xl">
    <div class="bg-[#299D91] w-[500px] min-h-[420px] p-12 z-0">
        <h2 class="text-5xl font-black text-white leading-tight">GRANTS & FUNDING</h2>
        <button class="mt-8 bg-[#E32434] text-white px-8 py-3 font-bold">FIND OUT MORE</button>
    </div>
    <div class="absolute top-0 -right-4 w-[380px] h-full z-10 [clip-path:polygon(25%_0%,100%_0%,75%_100%,0%_100%)] overflow-hidden">
        <img src="..." class="object-cover h-full w-full" />
        <div class="absolute inset-0 bg-[#E32434] mix-blend-multiply opacity-60"></div>
    </div>
</div>`
        }
    }
};

ReactDOM.render(
    <CodeTabsComponent codeExamples={componentData.codeExamples.component1} tabId="component1" />,
    document.getElementById('component1-code-tabs')
);
{% endraw %}
</script>
{% endblock %}